<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Horas Complementares - UFBA</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .subtitle {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }

        .form-section {
            background: #f8f9ff;
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #a8b5ff;
        }

        .results-section {
            background: #fff5f5;
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #ffb3b3;
        }

        h2 {
            color: #5a6acf;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #4a5568;
            font-weight: 500;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
            background: white;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #a8b5ff;
            box-shadow: 0 0 0 3px rgba(168, 181, 255, 0.1);
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: transform 0.2s ease;
            margin-right: 10px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .activity-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border-left: 4px solid #a8b5ff;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .activity-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 10px;
        }

        .activity-title {
            font-weight: 600;
            color: #2d3748;
            flex-grow: 1;
        }

        .hours-badge {
            background: #a8b5ff;
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 500;
        }

        .remove-btn {
            background: #ff6b6b;
            padding: 5px 10px;
            font-size: 12px;
            margin-left: 10px;
        }

        .progress-section {
            margin-top: 30px;
            padding: 20px;
            background: #f0fff4;
            border-radius: 15px;
            border-left: 5px solid #68d391;
        }

        .progress-bar {
            background: #e2e8f0;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #68d391 0%, #38b2ac 100%);
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .category-progress {
            margin: 15px 0;
        }

        .category-name {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 5px;
        }

        .suggestions {
            background: #fffbeb;
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid #f6ad55;
            margin-top: 20px;
        }

        .suggestion-item {
            padding: 10px;
            margin: 8px 0;
            background: white;
            border-radius: 8px;
            border-left: 3px solid #f6ad55;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Sistema de Horas Complementares</h1>
            <p class="subtitle">Ci√™ncia da Computa√ß√£o - UFBA</p>
        </header>

        <div class="main-content">
            <div class="form-section">
                <h2>üìù Adicionar Atividade</h2>
                <form id="activityForm">
                    <div class="form-group">
                        <label for="activityType">Tipo de Atividade:</label>
                        <select id="activityType" required>
                            <option value="">Selecione uma atividade...</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="hours">Horas Realizadas:</label>
                        <input type="number" id="hours" min="1" required>
                    </div>

                    <div class="form-group">
                        <label for="description">Descri√ß√£o (opcional):</label>
                        <textarea id="description" rows="3" placeholder="Descreva brevemente a atividade..."></textarea>
                    </div>

                    <button type="submit">Adicionar Atividade</button>
                    <button type="button" onclick="clearAll()">Limpar Tudo</button>
                </form>
            </div>

            <div class="results-section">
                <h2>üìä Suas Atividades</h2>
                <div id="activities"></div>

                <div class="suggestions" id="suggestions" style="display: none;">
                    <h3>üí° Sugest√µes de Aproveitamento</h3>
                    <div id="suggestionsList"></div>
                </div>
            </div>
        </div>

        <div class="progress-section">
            <h2>üìà Progresso das Horas Complementares</h2>
            <div id="progressBars"></div>
        </div>
    </div>

    <script>
        // Base de dados das atividades baseada na resolu√ß√£o
        const atividades = {
            // Categoria 1 - Extens√£o (330h)
            "accs": {
                nome: "ACCS - A√ß√£o Curricular em Comunidade e Sociedade",
                categoria: "extensao",
                maxHoras: 330,
                comprovacao: "Comprovante contendo a carga hor√°ria cumprida"
            },
            "estagio": {
                nome: "Est√°gio Supervisionado",
                categoria: "extensao",
                maxHoras: 100,
                comprovacao: "Plano de est√°gio e relat√≥rio de conclus√£o"
            },
            "programa_extensao": {
                nome: "Programa de Extens√£o",
                categoria: "extensao",
                maxHoras: 120,
                comprovacao: "Comprovante de participa√ß√£o registrado no SIATEX-UFBA"
            },
            "projeto_extensao": {
                nome: "Projeto de Extens√£o",
                categoria: "extensao",
                maxHoras: 120,
                comprovacao: "Comprovante de participa√ß√£o registrado no SIATEX-UFBA"
            },
            "curso_extensao": {
                nome: "Curso de Extens√£o (ministrante/monitor)",
                categoria: "extensao",
                maxHoras: 120,
                comprovacao: "Comprovante como ministrante, monitor ou facilitador"
            },
            "evento_extensao": {
                nome: "Evento Acad√™mico-Cient√≠fico de Extens√£o",
                categoria: "extensao",
                maxHoras: 100,
                comprovacao: "Comprovante de participa√ß√£o com interven√ß√£o na comunidade"
            },
            "publicacao_extensao": {
                nome: "Publica√ß√£o de Extens√£o",
                categoria: "extensao",
                maxHoras: 100,
                comprovacao: "Comprovante de publica√ß√£o com car√°ter de difus√£o"
            },
            "liga_academica": {
                nome: "Liga Acad√™mica",
                categoria: "extensao",
                maxHoras: 120,
                comprovacao: "Comprovante de participa√ß√£o com interven√ß√£o na comunidade"
            },
            "empresa_junior": {
                nome: "Empresa J√∫nior",
                categoria: "extensao",
                maxHoras: 120,
                comprovacao: "Comprovante como membro efetivo com interven√ß√£o na comunidade"
            },

            // Categoria 2a - Ensino (30h)
            "monitoria": {
                nome: "Monitoria",
                categoria: "ensino",
                maxHoras: 30,
                comprovacao: "Certificado com registro de data e carga hor√°ria m√≠nima de 20h"
            },
            "pet": {
                nome: "Programa de Educa√ß√£o Tutorial (PET)",
                categoria: "ensino",
                maxHoras: 30,
                comprovacao: "Certificado com registro de data e carga hor√°ria m√≠nima de 20h"
            },
            "grupo_estudo": {
                nome: "Grupo de Estudo",
                categoria: "ensino",
                maxHoras: 30,
                comprovacao: "Certificado com registro de data e carga hor√°ria m√≠nima de 20h"
            },

            // Categoria 2b - Pesquisa (30h)
            "iniciacao_cientifica": {
                nome: "Inicia√ß√£o Cient√≠fica",
                categoria: "pesquisa",
                maxHoras: 30,
                comprovacao: "Certificado com registro de data e carga hor√°ria m√≠nima de 20h"
            },
            "apresentacao_trabalho": {
                nome: "Apresenta√ß√£o de Trabalho Cient√≠fico",
                categoria: "pesquisa",
                maxHoras: 30,
                comprovacao: "Comprovante de apresenta√ß√£o"
            },
            "publicacao_periodico": {
                nome: "Publica√ß√£o em Peri√≥dico",
                categoria: "pesquisa",
                maxHoras: 30,
                comprovacao: "Publica√ß√£o do artigo"
            },
            "publicacao_conferencia": {
                nome: "Publica√ß√£o em Confer√™ncia",
                categoria: "pesquisa",
                maxHoras: 30,
                comprovacao: "Publica√ß√£o do artigo"
            },

            // Categoria 2c - Viv√™ncia Profissional (30h)
            "gestao_redes": {
                nome: "Gest√£o de Redes Acad√™micas",
                categoria: "vivencia",
                maxHoras: 30,
                comprovacao: "Relat√≥rio de professor respons√°vel"
            },
            "certificacao_tech": {
                nome: "Certifica√ß√£o Tecnol√≥gica",
                categoria: "vivencia",
                maxHoras: 30,
                comprovacao: "Certificado emitido por institui√ß√£o reconhecida"
            },
            "treinamento_prof": {
                nome: "Treinamento Profissional",
                categoria: "vivencia",
                maxHoras: 30,
                comprovacao: "Certificado com conte√∫do, data e carga hor√°ria"
            },
            "competicao_academica": {
                nome: "Competi√ß√£o Acad√™mica (GRUPRO)",
                categoria: "vivencia",
                maxHoras: 60,
                comprovacao: "Certificado de participa√ß√£o"
            },

            // Categoria 2d - Eventos T√©cnicos (30h)
            "evento_tecnico": {
                nome: "Congresso/Semin√°rio/Workshop",
                categoria: "eventos",
                maxHoras: 30,
                comprovacao: "Certificado de participa√ß√£o"
            },
            "sociedade_cientifica": {
                nome: "Associa√ß√£o em Sociedade Cient√≠fica",
                categoria: "eventos",
                maxHoras: 10,
                comprovacao: "Carteira de s√≥cio ou declara√ß√£o"
            },

            // Categoria 2e - Interven√ß√£o Organizacional (30h)
            "organizacao_evento": {
                nome: "Organiza√ß√£o de Evento",
                categoria: "organizacional",
                maxHoras: 30,
                comprovacao: "Certificado de participa√ß√£o na organiza√ß√£o"
            },
            "ministrante": {
                nome: "Ministrante de Curso",
                categoria: "organizacional",
                maxHoras: 30,
                comprovacao: "Certificado ou declara√ß√£o"
            },
            "solucao_tech": {
                nome: "Desenvolvimento de Solu√ß√£o Tecnol√≥gica",
                categoria: "organizacional",
                maxHoras: 30,
                comprovacao: "Certificado de registro ou autoria"
            },

            // Categoria 2f - Representa√ß√£o Estudantil (30h)
            "representacao_discente": {
                nome: "Representa√ß√£o Discente (CA/DA/DCE)",
                categoria: "representacao",
                maxHoras: 30,
                comprovacao: "Ata de posse e declara√ß√£o de cumprimento"
            },

            // Categoria 2g - Forma√ß√£o Interdisciplinar (30h)
            "curso_idioma": {
                nome: "Curso de Idiomas (n√≠vel intermedi√°rio+)",
                categoria: "interdisciplinar",
                maxHoras: 30,
                comprovacao: "Certificado com data e carga hor√°ria"
            },
            "disciplina_externa": {
                nome: "Disciplina fora da Matriz Curricular",
                categoria: "interdisciplinar",
                maxHoras: 30,
                comprovacao: "Registro no hist√≥rico escolar"
            },

            // Categoria 2h - Outros (20h)
            "atividade_fisica": {
                nome: "Atividades F√≠sicas/Esportivas",
                categoria: "outros",
                maxHoras: 20,
                comprovacao: "Certificado da institui√ß√£o respons√°vel"
            },
            "atividade_cultural": {
                nome: "Atividades Culturais",
                categoria: "outros",
                maxHoras: 20,
                comprovacao: "Certificado com carga m√≠nima de 40h"
            },
            "doacao_sangue": {
                nome: "Doa√ß√£o de Sangue",
                categoria: "outros",
                maxHoras: 10,
                comprovacao: "Atestado de doa√ß√£o (m√°ximo 3 doa√ß√µes)"
            }
        };

        const limitesCategorias = {
            "extensao": 330,
            "ensino": 30,
            "pesquisa": 30,
            "vivencia": 30,
            "eventos": 30,
            "organizacional": 30,
            "representacao": 30,
            "interdisciplinar": 30,
            "outros": 20
        };

        const nomesCategorias = {
            "extensao": "Extens√£o",
            "ensino": "Ensino",
            "pesquisa": "Pesquisa",
            "vivencia": "Viv√™ncia Profissional",
            "eventos": "Eventos T√©cnicos",
            "organizacional": "Interven√ß√£o Organizacional",
            "representacao": "Representa√ß√£o Estudantil",
            "interdisciplinar": "Forma√ß√£o Interdisciplinar",
            "outros": "Outros"
        };

        let atividadesRealizadas = [];

        // Inicializar
        function init() {
            populateActivitySelect();
            updateDisplay();
        }

        function populateActivitySelect() {
            const select = document.getElementById('activityType');
            
            // Agrupar por categoria
            const categorias = {};
            Object.keys(atividades).forEach(key => {
                const atividade = atividades[key];
                if (!categorias[atividade.categoria]) {
                    categorias[atividade.categoria] = [];
                }
                categorias[atividade.categoria].push({key, ...atividade});
            });

            // Adicionar options agrupados
            Object.keys(categorias).forEach(categoria => {
                const optgroup = document.createElement('optgroup');
                optgroup.label = nomesCategorias[categoria];
                
                categorias[categoria].forEach(atividade => {
                    const option = document.createElement('option');
                    option.value = atividade.key;
                    option.textContent = atividade.nome;
                    optgroup.appendChild(option);
                });
                
                select.appendChild(optgroup);
            });
        }

        document.getElementById('activityForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const activityType = document.getElementById('activityType').value;
            const hours = parseInt(document.getElementById('hours').value);
            const description = document.getElementById('description').value;

            if (!activityType || !hours) return;

            const atividade = atividades[activityType];
            const newActivity = {
                id: Date.now(),
                tipo: activityType,
                nome: atividade.nome,
                categoria: atividade.categoria,
                horas: Math.min(hours, atividade.maxHoras),
                descricao: description,
                comprovacao: atividade.comprovacao
            };

            atividadesRealizadas.push(newActivity);
            
            // Limpar formul√°rio
            document.getElementById('activityForm').reset();
            
            updateDisplay();
        });

        function removeActivity(id) {
            atividadesRealizadas = atividadesRealizadas.filter(a => a.id !== id);
            updateDisplay();
        }

        function clearAll() {
            atividadesRealizadas = [];
            updateDisplay();
        }

        function updateDisplay() {
            displayActivities();
            displayProgress();
            displaySuggestions();
        }

        function displayActivities() {
            const container = document.getElementById('activities');
            
            if (atividadesRealizadas.length === 0) {
                container.innerHTML = '<p style="color: #718096; font-style: italic;">Nenhuma atividade adicionada ainda.</p>';
                return;
            }

            container.innerHTML = atividadesRealizadas.map(atividade => `
                <div class="activity-item">
                    <div class="activity-header">
                        <div class="activity-title">${atividade.nome}</div>
                        <span class="hours-badge">${atividade.horas}h</span>
                        <button class="remove-btn" onclick="removeActivity(${atividade.id})">√ó</button>
                    </div>
                    <div style="font-size: 0.9em; color: #718096;">
                        <strong>Categoria:</strong> ${nomesCategorias[atividade.categoria]}
                    </div>
                    ${atividade.descricao ? `<div style="font-size: 0.9em; color: #4a5568; margin-top: 5px;"><strong>Descri√ß√£o:</strong> ${atividade.descricao}</div>` : ''}
                    <div style="font-size: 0.85em; color: #a0aec0; margin-top: 8px;">
                        <strong>Comprova√ß√£o:</strong> ${atividade.comprovacao}
                    </div>
                </div>
            `).join('');
        }

        function displayProgress() {
            const container = document.getElementById('progressBars');
            const horasPorCategoria = {};
            
            // Inicializar com zeros
            Object.keys(limitesCategorias).forEach(categoria => {
                horasPorCategoria[categoria] = 0;
            });
            
            // Somar horas por categoria
            atividadesRealizadas.forEach(atividade => {
                horasPorCategoria[atividade.categoria] += atividade.horas;
            });

            // Calcular totais
            const totalExtensao = horasPorCategoria.extensao;
            const totalOutras = Object.keys(horasPorCategoria)
                .filter(cat => cat !== 'extensao')
                .reduce((sum, cat) => sum + horasPorCategoria[cat], 0);
            const totalGeral = totalExtensao + totalOutras;

            container.innerHTML = `
                <div class="category-progress">
                    <div class="category-name">Total Geral: ${totalGeral}/430h (${Math.round(totalGeral/430*100)}%)</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${Math.min(totalGeral/430*100, 100)}%"></div>
                    </div>
                </div>

                <div class="category-progress">
                    <div class="category-name">Extens√£o: ${totalExtensao}/330h (${Math.round(totalExtensao/330*100)}%)</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${Math.min(totalExtensao/330*100, 100)}%"></div>
                    </div>
                </div>

                <div class="category-progress">
                    <div class="category-name">Outras Atividades: ${totalOutras}/100h (${Math.round(totalOutras/100*100)}%)</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${Math.min(totalOutras/100*100, 100)}%"></div>
                    </div>
                </div>

                ${Object.keys(limitesCategorias).filter(cat => cat !== 'extensao').map(categoria => {
                    const horas = horasPorCategoria[categoria];
                    const limite = limitesCategorias[categoria];
                    const percentage = Math.round(horas/limite*100);
                    return `
                        <div class="category-progress">
                            <div class="category-name">${nomesCategorias[categoria]}: ${horas}/${limite}h (${percentage}%)</div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${Math.min(percentage, 100)}%"></div>
                            </div>
                        </div>
                    `;
                }).join('')}
            `;
        }

        function displaySuggestions() {
            const container = document.getElementById('suggestions');
            const suggestionsList = document.getElementById('suggestionsList');
            
            if (atividadesRealizadas.length === 0) {
                container.style.display = 'none';
                return;
            }

            container.style.display = 'block';
            
            // Calcular horas por categoria
            const horasPorCategoria = {};
            Object.keys(limitesCategorias).forEach(categoria => {
                horasPorCategoria[categoria] = 0;
            });
            
            atividadesRealizadas.forEach(atividade => {
                horasPorCategoria[atividade.categoria] += atividade.horas;
            });

            const totalExtensao = horasPorCategoria.extensao;
            const totalOutras = Object.keys(horasPorCategoria)
                .filter(cat => cat !== 'extensao')
                .reduce((sum, cat) => sum + horasPorCategoria[cat], 0);

            let suggestions = [];

            // Sugest√µes para extens√£o
            if (totalExtensao < 330) {
                suggestions.push(`Voc√™ ainda precisa de ${330 - totalExtensao}h em atividades de <strong>Extens√£o</strong>. Considere: ACCS, projetos de extens√£o, est√°gios ou ligas acad√™micas.`);
            }

            // Sugest√µes para outras atividades
            if (totalOutras < 100) {
                // Encontrar categoria com menos horas (exceto extens√£o)
                const categoriasOrdenadas = Object.keys(horasPorCategoria)
                    .filter(cat => cat !== 'extensao')
                    .sort((a, b) => horasPorCategoria[a] - horasPorCategoria[b]);
                
                const categoriaMenosHoras = categoriasOrdenadas[0];
                const horasRestantes = 100 - totalOutras;
                
                suggestions.push(`Voc√™ ainda precisa de ${horasRestantes}h em <strong>Outras Atividades</strong>. Recomendamos focar em <strong>${nomesCategorias[categoriaMenosHoras]}</strong> (${horasPorCategoria[categoriaMenosHoras]}h de ${limitesCategorias[categoriaMenosHoras]}h).`);
            }

            // Verificar se alguma categoria ultrapassou o limite
            Object.keys(limitesCategorias).forEach(categoria => {
                if (horasPorCategoria[categoria] > limitesCategorias[categoria]) {
                    const excesso = horasPorCategoria[categoria] - limitesCategorias[categoria];
                    suggestions.push(`‚ö†Ô∏è Voc√™ ultrapassou o limite de <strong>${nomesCategorias[categoria]}</strong> em ${excesso}h. Considere diversificar suas atividades.`);
                }
            });

            if (totalExtensao >= 330 && totalOutras >= 100) {
                suggestions.push(`üéâ <strong>Parab√©ns!</strong> Voc√™ j√° completou as 430h necess√°rias! Total: ${totalExtensao + totalOutras}h`);
            }

            suggestionsList.innerHTML = suggestions.map(suggestion => 
                `<div class="suggestion-item">${suggestion}</div>`
            ).join('');
        }

        // Inicializar quando a p√°gina carregar
        init();
    </script>
</body>
</html>